<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/main.css') }}">
    <title>CBIR</title>
</head>
<body>

 
        

        <div class="mx-auto order-0 bg-primary" style=" text-align: center;">
            <a class="navbar-brand mx-auto h1" href="#" style='font-weight: bold; color: rgb(255, 255, 255);'>Content-Based Image Retrieval</a>


        </div>


 
<div class="container ">

    <div class="container" style="margin-top: 100px; padding-top: 20px; margin-bottom: 30px;">
        <div class="row">
            <div class="col-9">
                <div class="container  border border-primary" >
                    <form method="POST" enctype="multipart/form-data" class="mb-3">
                        <label for="formFile" class="form-label h5 " style="margin-bottom: 10px; padding-top: 15px;">Upload image :
                        </label>
        
                        <input class="form-control form-control-lg" type="file" id="formFile" name="query_img"><br>
            
     
                        <div class="col-md-12 text-center">
                
                            <button type="submit" class="btn btn-primary col-3 ">Submit</button>
                        </div>
    
    
                     </form>
                 </div>
            </div>

            <div class="col-3">
 
                <div class="card  mx-auto order-0 " >
                    <h5 class="card-header">Uploaded Image :</h5>
                    {% if query_path %}
                    <div class="card-body">
                        
                        <img class="card-img-top mx-auto center" src="{{ query_path }}" alt="Card image cap"  >
                        

                    </div>
                    {% endif %} 
                </div>

            </div>
        </div>
    </div>


    <div class="container ml-auto justify-content-center">
        <h5 class="border   bg-light text-dark" style="padding: 10px 20px;">Results :</h5>

        <div >
            {% for (score, pathImage) in scores %}
            
                <figure style="float: left; margin-left: 23px;" >
                    <div class="card" >
                        
                        <div class="card-body">
                            <img class="card-img-top center" src="{{ pathImage }}" alt="Card image cap " >
                            <br>
                


                            
                            <form method="post" action="/">


                                    <button type="submit" class="btn btn-primary btn-sm" style="padding-right: 20px; padding-left: 20px;" name="feedback" value="rel">Relevant</button>
                                    <button type="submit" class="btn btn-warning btn-sm" name="feedback" value="nonrel">Non Relevant</button>
                            </form>


                        </div>
                      </div>
                
                    </figure>
            {% endfor %}
        </div>

        
            
    </div>


</div>





    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</body>
</html>